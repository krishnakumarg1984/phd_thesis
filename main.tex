%! TEX program = lualatex
% vim:nospell

\input{Preamble/preamble}  % full preamble, including metadata, documentclass, packages, fonts and custom commands
% \includeonly{%
%     chapters/introduction/intro,
%     chapters/litt_review/litt_review,
%     chapters/layer_opt/layer_opt,
%     chapters/dra/improved_dra,
%     chapters/spm_analysis/spm_analysis,
%     chapters/sys_id/sys_id,
%     chapters/Appendices/appendix1,
%     chapters/Appendices/appendix2,
% }%
\begin{document}
\scrollmode

\setstretch{1.348361657291667} % golden-ratio stretch (1.2 x 1.348 = 1.618)

\frontmatter
\pagenumbering{arabic} % Imperial College requirement that all pages must be in continuous arabic numbering
\noindent
\begin{varwidth}[c]{0.4\textwidth}
    % This  work  is  licensed  under  aCreative  Commons  ‘Attribution-NonCommercial-NoDerivs  3.0  Unported’licence
    % https://www.imperial.ac.uk/research-and-innovation/support-for-staff/scholarly-communication/open-access/spiral/licences-and-policies/
    \includegraphics{chapters/backmatter/doclicense-CC-by-nc-nd.pdf}
\end{varwidth}
\hfill
\begin{varwidth}[c]{0.70\textwidth}
    \doclicenseLongText
\end{varwidth}

\bigskip
\noindent  The copyright  of  this thesis  rests  with the  author  and is  made
available  under a  Creative Commons  Attribution Non-Commercial  No Derivatives
licence. Researchers are free to copy,  distribute or transmit the thesis on the
condition  that they  attribute  it, that  they  do not  use  it for  commercial
purposes and that they  do not alter, transform or build upon  it. For any reuse
or redistribution,  researchers must make clear  to others the licence  terms of
this work.

%: ----------------------- contents ------------------------
\cleardoublepage
\glsunsetall
\microtypesetup{protrusion=false} % disables protrusion locally in the document
% \pdfbookmark[<level>]{<title>}{<dest>}
\pdfbookmark[section]{\contentsname}{toc}
\tableofcontents            % print the table of contents

%: ----------------------- list of figures/tables ------------------------
\cleardoublepage
\listoffigures
\cleardoublepage
\listoftables
\cleardoublepage
\listofalgorithms
\addcontentsline{toc}{chapter}{List of Algorithms}
\cleardoublepage
\begingroup
\parskip=0pt
\tcblistof[\chapter*]{mypyg}{List of Program Code}
\endgroup
\cleardoublepage
\glsresetall
\begingroup
% \setlength\LTleft{-5pt}
% \printglossaries
\printglossary[type=acronym,title={List of Acronyms}]\label{ch:glossary} % basic style
% \printglossary[type=abbreviation, title={List of Acronyms}]\label{ch:glossary} % basic style
% \printglossary[type=acronym, style = superragged3colheader, title={List of Acronyms}]\label{ch:glossary}
% \printglossary[type=acronym, style = custom_acronyms,title={List of Acronyms}]\label{ch:glossary}
% \printglossary[type=acronym, style = super,title={List of Acronyms}]\label{ch:glossary}
\endgroup
\microtypesetup{protrusion=true} % re-enables protrusion

% Required to maintain continuous arabic numbering
\makeatletter
\@mainmattertrue
\makeatother
\cleardoublepage

\input{chapters/introduction/introduction} % Introduction
\input{chapters/litt_review/litt_review}   % Literature Review
\input{chapters/layer_opt/layer_opt}       % Layer Optimisation
\input{chapters/dra/dra}                   % Improved DRA
\input{chapters/spm_analysis/spm_analysis} % Analysis of SPM
\input{chapters/sys_id/sys_id}             % New Electrolye Model

\backmatter
\begin{footnotesize} % tiny(5) < scriptsize(7) < footnotesize(8) < small (9)
    \renewcommand{\bibname}{References} % changes the header; default: Bibliography
    % add bib to toc
    \cleardoublepage
    \phantomsection
    \addcontentsline{toc}{chapter}{\bibname}
    \printbibliography
\end{footnotesize}

% Required to maintain continuous arabic numbering
\makeatletter
\@mainmattertrue
\makeatother
\cleardoublepage

\begin{appendices} % Using the appendices environment (from appendix package) for more functionality
    \crefalias{chapter}{appchap}
    \include{chapters/Appendices/appendix1}
    \include{chapters/Appendices/appendix2}
\end{appendices}

\batchmode
\end{document}
