%! TEX program = lualatex
% vim:nospell

\RequirePackage{shellesc} % unified shell-escape interface
\RequirePackage[debrief]{silence}
\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[12pt,a4paper,oneside,openright]{book}

\include{Preamble/preamble}
%: ----------------------- generate glossary ------------------------
\loadglsentries{0_frontmatter/glossary}
% \makeglossaries
\includeonly{%
    1/chapter1,
    % 4/chapter4,
    4/quadratic_approximation_ce,
}%
\begin{document}
\scrollmode

\setstretch{1.348361657291667} % golden-ratio stretch (1.2 x 1.348 = 1.618)

\frontmatter
\noindent
\begin{varwidth}[c]{0.4\textwidth}
    \includegraphics{9_backmatter/doclicense-CC-by-nc-nd.pdf}
\end{varwidth}
\hfill
\begin{varwidth}[c]{0.70\textwidth}
    \doclicenseLongText
\end{varwidth}

\bigskip
\noindent  The copyright  of  this thesis  rests  with the  author  and is  made
available  under a  Creative Commons  Attribution Non-Commercial  No Derivatives
licence. Researchers are free to copy,  distribute or transmit the thesis on the
condition  that they  attribute  it, that  they  do not  use  it for  commercial
purposes and that they  do not alter, transform or build upon  it. For any reuse
or redistribution,  researchers must make clear  to others the licence  terms of
this work.

%: ----------------------- contents ------------------------
\glsunsetall
\microtypesetup{protrusion=false} % disables protrusion locally in the document
\tableofcontents            % print the table of contents

%: ----------------------- list of figures/tables ------------------------
\cleardoublepage
\listoffigures	% print list of figures
\cleardoublepage
\listoftables  % print list of tables
\cleardoublepage
\listofalgorithms
\addcontentsline{toc}{chapter}{List of Algorithms}
\cleardoublepage
\begingroup
\parskip=0pt
\tcblistof[\chapter*]{mypyg}{List of Program Code}
\endgroup
\cleardoublepage
\microtypesetup{protrusion=true} % re-enables protrusion
\glsresetall

%: ----------------------- glossary ------------------------

\cleardoublepage

% \chapter{Glossary}\label{ch:glossary}
% \begin{multicols}{2} % \begin{multicols}{#columns}[header text][space]
%     \begin{footnotesize} % scriptsize(7) < footnotesize(8) < small (9) < normal (10)
%         % \printglossary[type=\acronymtype,title=Abbreviations]
%         \printglossary{}
%         \label{nom} % target name for links to glossary
%     \end{footnotesize}
% \end{multicols}

\mainmatter
\include{1/chapter1}
\setcounter{chapter}{3}
\include{4/chapter4}
\include{4/quadratic_approximation_ce}

\cleardoublepage

\begin{appendices} % Using appendices environment for more functionality
    \crefalias{chapter}{appchap}
    \include{Appendix1/appendix1}
\end{appendices}

\backmatter

\begin{footnotesize} % tiny(5) < scriptsize(7) < footnotesize(8) < small (9)
    \renewcommand{\bibname}{References} % changes the header; default: Bibliography
    % add bib to toc
    \cleardoublepage
    \phantomsection
    \addcontentsline{toc}{chapter}{\bibname}
    \printbibliography
\end{footnotesize}
\batchmode
\end{document}
