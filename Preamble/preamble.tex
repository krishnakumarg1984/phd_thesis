%!TEX root = ../main.tex
% vim:nospell

\input{Preamble/standard_preamble} % packages and document fonts

\usepackage{fontspec} % load after graphicx
\usepackage[warnings-off={mathtools-colon}]{unicode-math}

\input{Preamble/font_selection.tex} % for text-fonts only
\setmathfont[bold-style=ISO]{Libertinus Math} % https://github.com/libertinus-fonts/libertinus/issues/20
% \setmathfont[math-style=upright,range={`e,`i}]{Latin Modern Math}
% \setmathfont[range={\mathunder,\triangleq},Scale=MatchUppercase]{STIX2Math.otf}
\setmathfont[range={\mathunder,\triangleq,\underbrace},Scale=MatchUppercase]{Latin Modern Math}

\usepackage[british]{babel} % with british, we get OUP hyphenation material for free
\usepackage[final,activate={true,nocompatibility},factor=1100,stretch=10,shrink=10,babel=true]{microtype} % if using option babel=true, babel must be loaded before microtype \usepackage{selnolig} % if using babel, this package should go after loading babel

% Loading order is important here https://tex.stackexchange.com/questions/435529/correct-loading-order-of-package-newfloat-along-with-hyperref-and-algorithmic-pa/435597#435597
\usepackage{float}
\usepackage[draft=true,newfloat=true]{minted}
\usepackage[minted]{tcolorbox}
\usepackage{csquotes} % The fvextra package is loaded by minted, so you should load minted before csquotes
\usepackage[modifier={by-nc-nd}]{doclicense} % depends on csquotes

\usepackage{chemformula} % uses tikz arrows

\addbibresource{9_backmatter/thesis_refs.bib}
% \ShellEscape{biber --tool 9_backmatter/thesis_refs.bib} % deduplicate bibtex entries
% \addbibresource{9_backmatter/thesis_refs_bibertool.bib}

\input{Preamble/hyperref_related}
\input{Preamble/customcommands}


\tolerance=1414
\hbadness=1414
\emergencystretch=1.5em
\hfuzz=0.5pt
\vfuzz=\hfuzz
\raggedbottom
\hyphenpenalty=750
\frenchspacing
\binoppenalty=1000 % default 700
\relpenalty=800     % default 500
\interfootnotelinepenalty=10000
\clubpenalty=10000
\widowpenalty=10000

% \usepackage[draft,hyphenation,lastparline,nosingleletter,homeoarchy,rivers]{impnattypo}
\usepackage[hyphenation,lastparline,nosingleletter]{impnattypo}
\usepackage[defaultlines=2,all]{nowidow}

