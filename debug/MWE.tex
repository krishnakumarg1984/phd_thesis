% !TEX-program = lualatex
% vim:nospell
\documentclass{article}
% \usepackage{xcolor}
% \definecolor{bg}{rgb}{0.95,0.95,0.95}
% \usepackage[newfloat=true,chapter]{minted}
% \SetupFloatingEnvironment{listing}{placement=htp}
% \SetupFloatingEnvironment{listing}{name=Program code}
% \SetupFloatingEnvironment{listing}{listname=List of Program code}
% \usepackage{mdframed}
% \surroundwithmdframed{minted}
\usepackage[most,minted]{tcolorbox}
\NewTCBInputListing[auto counter,number within=section,list inside=mypyg]{myincludedjava}[2][]{%
    listing engine=minted,
    title={Listing~\thetcbcounter: #2},fonttitle=\bfseries,
    list entry={\protect\numberline{\thetcbcounter}},enhanced,breakable,
    minted style=colorful,
    minted language=java,
    minted options={fontsize=\small,breaklines,autogobble,linenos,numbersep=3mm},
    colback=blue!5!white,colframe=blue!75!black,listing only, drop fuzzy shadow,
    left=5mm,
    overlay={\begin{tcbclipinterior}\fill[red!20!blue!20!white] (frame.south west)
rectangle ([xshift=5mm]frame.north west);\end{tcbclipinterior}}}

\begin{document}
\tcblistof{mypyg}{My Listings}
\section{Test}

\begin{myincludedjava}{A long title}
    \input{hello_world.java}
\end{myincludedjava}

\end{document}
