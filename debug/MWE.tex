% !TEX-program = lualatex
% vim:set nospell
\documentclass{article}
\usepackage{xcolor}
\definecolor{bg}{rgb}{0.95,0.95,0.95}
% \usepackage[newfloat=true,chapter]{minted}
% \SetupFloatingEnvironment{listing}{placement=htp}
% \SetupFloatingEnvironment{listing}{name=Program code}
% \SetupFloatingEnvironment{listing}{listname=List of Program code}
% \usepackage{mdframed}
% \surroundwithmdframed{minted}
\usepackage[most,minted]{tcolorbox}
\newtcblisting[auto counter,,number within=section,list inside=mypyg]{myjava}{listing engine=minted,
    title={Listing \thetcbcounter},fonttitle=\bfseries,
    list entry={\protect\numberline{\thetcbcounter}}
    minted style=colorful,
    minted language=java,
    minted options={fontsize=\small,breaklines,autogobble,linenos,numbersep=3mm},
    colback=blue!5!white,colframe=blue!75!black,listing only,
    left=5mm,enhanced,
    overlay={\begin{tcbclipinterior}\fill[red!20!blue!20!white] (frame.south west)
rectangle ([xshift=5mm]frame.north west);\end{tcbclipinterior}}}


\begin{document}
% \listoflistings
\tcblistof{mypyg}{My Listings}
\section{Test}

\begin{myjava}
    public class HelloWorld {
        // A 'Hello World' in Java
        public static void main(String[] args) {
            System.out.println("Hello World!");
        }
    }
\end{myjava}

% Listing \ref{sc:firstlisting} contains an example of a listing.

\end{document}
